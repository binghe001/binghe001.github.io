(window.webpackJsonp=window.webpackJsonp||[]).push([[792],{1130:function(s,a,t){"use strict";t.r(a);var e=t(15),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"《实战ai大模型》ai数字人应用-第05节-基于开源数字人硅基heygem生成ai数字人"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#《实战ai大模型》ai数字人应用-第05节-基于开源数字人硅基heygem生成ai数字人"}},[s._v("#")]),s._v(" 《实战AI大模型》AI数字人应用-第05节：基于开源数字人硅基heygem生成AI数字人")]),s._v(" "),a("p",[s._v("作者：冰河\n"),a("br"),s._v("星球："),a("a",{attrs:{href:"http://m6z.cn/6aeFbs",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://m6z.cn/6aeFbs"),a("OutboundLink")],1),s._v(" "),a("br"),s._v("博客："),a("a",{attrs:{href:"https://binghe.gitcode.host",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://binghe.gitcode.host"),a("OutboundLink")],1),s._v(" "),a("br"),s._v("文章汇总："),a("a",{attrs:{href:"https://binghe.gitcode.host/md/all/all.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://binghe.gitcode.host/md/all/all.html"),a("OutboundLink")],1),s._v(" "),a("br"),s._v("源码获取地址："),a("a",{attrs:{href:"https://t.zsxq.com/0dhvFs5oR",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://t.zsxq.com/0dhvFs5oR"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("strong",[s._v("大家好，我是冰河~~")])]),s._v(" "),a("p",[s._v("在AI技术快速发展的今天，数字人已经成为内容创作、虚拟交互等领域的热门应用。今天冰河将手把手带大家搭建一个基于开源项目硅基HeyGem的AI数字人生成系统。通过这个实战项目，可以快速创建个性化的数字人形象，并生成对应的视频内容。")]),s._v(" "),a("h2",{attrs:{id:"一、服务器配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、服务器配置"}},[s._v("#")]),s._v(" 一、服务器配置")]),s._v(" "),a("p",[s._v("要顺利运行AI数字人系统，首先需要准备好基础环境。以下是经过验证的配置方案：")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("操作系统")]),s._v("：Ubuntu 22.04 LTS")]),s._v(" "),a("li",[a("strong",[s._v("显卡")]),s._v("：NVIDIA RTX 3090（必须使用NVIDIA显卡）")]),s._v(" "),a("li",[a("strong",[s._v("Docker")]),s._v("：27.2.0")]),s._v(" "),a("li",[a("strong",[s._v("Docker Compose")]),s._v("：2.35.1")])]),s._v(" "),a("p",[s._v("这个配置能够提供足够的计算资源来处理数字人生成所需的复杂模型运算。")]),s._v(" "),a("h2",{attrs:{id:"二、安装nvidia-container-toolkit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、安装nvidia-container-toolkit"}},[s._v("#")]),s._v(" 二、安装NVIDIA Container Toolkit")]),s._v(" "),a("p",[s._v("为了让Docker容器能够使用GPU资源，我们需要安装NVIDIA Container Toolkit。这个工具是连接Docker与NVIDIA GPU的桥梁")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加 NVIDIA 包仓库：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("distribution")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" /etc/os-release"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" $ID$VERSION_ID"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-L")]),s._v(" https://nvidia.github.io/libnvidia-container/gpgkey "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" - "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-L")]),s._v(" https://nvidia.github.io/libnvidia-container/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$distribution")]),s._v("/libnvidia-container.list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /etc/apt/sources.list.d/nvidia-container-toolkit.list\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新包列表并安装工具包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" nvidia-container-toolkit\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置 Docker 使用 NVIDIA 运行时")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" nvidia-ctk runtime configure "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--runtime")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启 Docker 服务：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[s._v("完成这些步骤后，Docker就具备了调用GPU的能力。")]),s._v(" "),a("h2",{attrs:{id:"三、部署服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、部署服务端"}},[s._v("#")]),s._v(" 三、部署服务端")]),s._v(" "),a("h3",{attrs:{id:"_3-1-获取heygem项目代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-获取heygem项目代码"}},[s._v("#")]),s._v(" 3.1 获取HeyGem项目代码")]),s._v(" "),a("p",[s._v("首先从GitHub克隆HeyGem.ai项目的源代码：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/GuijiAI/HeyGem.ai.git\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_3-2-拉取并准备docker镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-拉取并准备docker镜像"}},[s._v("#")]),s._v(" 3.2 拉取并准备Docker镜像")]),s._v(" "),a("p",[s._v("项目依赖多个Docker镜像，我们需要逐一拉取并重新标记：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉镜像")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull crpi-87t8jkvf79rj7hal.cn-huhehaote.personal.cr.aliyuncs.com/modelers_park/fun-asr:latest\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull crpi-87t8jkvf79rj7hal.cn-huhehaote.personal.cr.aliyuncs.com/modelers_park/fish-speech-ziming:latest\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull crpi-87t8jkvf79rj7hal.cn-huhehaote.personal.cr.aliyuncs.com/modelers_park/heygem.ai:latest\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重命名镜像(对齐docker compose中的镜像名)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" tag crpi-87t8jkvf79rj7hal.cn-huhehaote.personal.cr.aliyuncs.com/modelers_park/fish-speech-ziming:latest guiji2025/fish-speech-ziming:latest\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" tag crpi-87t8jkvf79rj7hal.cn-huhehaote.personal.cr.aliyuncs.com/modelers_park/fun-asr:latest guiji2025/fun-asr:latest\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" tag crpi-87t8jkvf79rj7hal.cn-huhehaote.personal.cr.aliyuncs.com/modelers_park/heygem.ai:latest guiji2025/heygem.ai:latest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"_3-3-调整docker-compose配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-调整docker-compose配置"}},[s._v("#")]),s._v(" 3.3 调整Docker Compose配置")]),s._v(" "),a("p",[s._v("进入项目部署目录，修改docker-compose.yml文件：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" HeyGem.ai/deploy\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("找到文件中两处数据卷映射配置，将Windows路径"),a("code",[s._v("d:/heygem_data/voice/data:/code/data")]),s._v("改为Linux系统的本地路径")]),s._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://binghe.gitcode.host/images/project/ai/2026-12-17-001.png?raw=true",width:"70%"}}),s._v(" "),a("br")]),s._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://binghe.gitcode.host/images/project/ai/2026-12-17-002.png?raw=true",width:"70%"}}),s._v(" "),a("br")]),s._v(" "),a("h3",{attrs:{id:"_3-4-启动服务容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-启动服务容器"}},[s._v("#")]),s._v(" 3.4 启动服务容器")]),s._v(" "),a("p",[s._v("使用Docker Compose启动所有服务：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker-compose文件再deploy下面")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" HeyGem.ai/deploy\n \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" compose up "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"_3-5-设置数据目录权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-设置数据目录权限"}},[s._v("#")]),s._v(" 3.5 设置数据目录权限")]),s._v(" "),a("p",[s._v("确保数据目录有正确的访问权限：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" heygem_data\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"查看完整文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看完整文章"}},[s._v("#")]),s._v(" 查看完整文章")]),s._v(" "),a("p",[s._v("加入"),a("a",{attrs:{href:"https://public.zsxq.com/groups/48848484411888.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("冰河技术"),a("OutboundLink")],1),s._v("知识星球，解锁完整技术文章、小册、视频与完整代码")])])}),[],!1,null,null,null);a.default=n.exports}}]);