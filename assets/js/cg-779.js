(window.webpackJsonp=window.webpackJsonp||[]).push([[779],{1116:function(a,s,e){"use strict";e.r(s);var t=e(15),n=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"《实战ai大模型》生成ai应用-第11节-基于ace-step搭建生成式ai音乐应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#《实战ai大模型》生成ai应用-第11节-基于ace-step搭建生成式ai音乐应用"}},[a._v("#")]),a._v(" 《实战AI大模型》生成AI应用-第11节：基于ACE-Step搭建生成式AI音乐应用")]),a._v(" "),s("p",[a._v("作者：冰河\n"),s("br"),a._v("星球："),s("a",{attrs:{href:"http://m6z.cn/6aeFbs",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://m6z.cn/6aeFbs"),s("OutboundLink")],1),a._v(" "),s("br"),a._v("博客："),s("a",{attrs:{href:"https://binghe.gitcode.host",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://binghe.gitcode.host"),s("OutboundLink")],1),a._v(" "),s("br"),a._v("文章汇总："),s("a",{attrs:{href:"https://binghe.gitcode.host/md/all/all.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://binghe.gitcode.host/md/all/all.html"),s("OutboundLink")],1),a._v(" "),s("br"),a._v("源码获取地址："),s("a",{attrs:{href:"https://t.zsxq.com/0dhvFs5oR",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://t.zsxq.com/0dhvFs5oR"),s("OutboundLink")],1)]),a._v(" "),s("p",[s("strong",[a._v("大家好，我是冰河~~")])]),a._v(" "),s("p",[a._v("今天，我们一起基于ACE-Step搭建生成式AI音乐应用，好了，开始今天的正文。")]),a._v(" "),s("h2",{attrs:{id:"一、ace-step简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、ace-step简介"}},[a._v("#")]),a._v(" 一、ACE-Step简介")]),a._v(" "),s("p",[a._v("在现有的音乐生成技术中，开发者常常面临一个困境：生成速度、音乐连贯性和可控性三者难以兼得。基于大语言模型的方案（如Yue、SongGen等）在歌词与旋律的同步上表现出色，但生成速度较慢，且在音乐结构上可能存在瑕疵。而基于扩散模型的方案（如DiffRhythm）虽然生成速度更快，但在长片段音乐的连贯性方面往往不尽如人意。")]),a._v(" "),s("p",[a._v("ACE-Step的出现，巧妙地解决了这一技术难题。它采用了创新的架构设计，将基于扩散的生成方法与Sana的深度压缩自动编码器（DCAE）相结合，并引入轻量级线性变换器，实现了技术上的突破。更值得一提的是，ACE-Step在训练过程中利用MERT和m-hubert技术对齐语义表示（REPA），大幅加快了模型的收敛速度。")]),a._v(" "),s("p",[a._v("这一系列技术创新的结果是令人瞩目的：在A100  GPU上，ACE-Step仅需20秒就能生成长达4分钟的音乐，相比基于大语言模型的方案快了15倍。同时，在旋律、和声、节奏等多个音乐评价指标上，ACE-Step都展现出了卓越的表现，特别是在歌词与旋律的对齐方面。")]),a._v(" "),s("p",[a._v("此外，ACE-Step还保留了丰富的声学细节，支持语音克隆、歌词编辑、混音处理、音轨生成（如歌词转人声、歌唱转伴奏）等多种高级控制功能，为音乐创作提供了前所未有的灵活性。")]),a._v(" "),s("h2",{attrs:{id:"二、安装并使用canda"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、安装并使用canda"}},[a._v("#")]),a._v(" 二、安装并使用Canda")]),a._v(" "),s("p",[a._v("ACE-Step的部署需要依赖Python环境，而Conda作为领先的环境管理工具，能够帮助我们高效地创建和管理独立的开发环境。")]),a._v(" "),s("h3",{attrs:{id:"_2-1-安装canda"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-安装canda"}},[a._v("#")]),a._v(" 2.1 安装Canda")]),a._v(" "),s("p",[a._v("linux环境")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" Anaconda3-2019.07-Linux-x86_64.sh\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#yes+回车 ")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#然后重启terminal")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("window环境：直接双击安装exe文件，然后根据安装向导进行安装")]),a._v(" "),s("h3",{attrs:{id:"_2-2-升级canda"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-升级canda"}},[a._v("#")]),a._v(" 2.2 升级Canda")]),a._v(" "),s("p",[a._v("升级Anaconda需要先升级conda")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("conda update conda          "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#基本升级")]),a._v("\nconda update anaconda       "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#大的升级")]),a._v("\nconda update anaconda-navigator    //update最新版本的anaconda-navigator   \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h3",{attrs:{id:"_2-3-卸载anaconda软件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-卸载anaconda软件"}},[a._v("#")]),a._v(" 2.3 卸载Anaconda软件")]),a._v(" "),s("p",[a._v("由于Anaconda的安装文件都包含在一个目录中，所以直接将该目录删除即可。删除整个Anaconda目录。")]),a._v(" "),s("p",[a._v("如果是Windows系统，可以按照如下方式卸载。")]),a._v(" "),s("p",[a._v("计算机控制面板->程序与应用->卸载 //windows或者找到C:\\ProgramData\\Anaconda3\\Uninstall-Anaconda3.exe执行卸载。")]),a._v(" "),s("p",[a._v("如果是Ubuntu系统，可以按照如下方式卸载。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rf")]),a._v(" anaconda    //ubuntu\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("最后，建议清理下.bashrc中的Anaconda路径。")]),a._v(" "),s("h3",{attrs:{id:"_2-4-conda环境使用基本命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-conda环境使用基本命令"}},[a._v("#")]),a._v(" 2.4 conda环境使用基本命令")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("conda update "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" base conda        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#update最新版本的conda")]),a._v("\nconda update "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--all")]),a._v("                "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#update最新版本的conda")]),a._v("\nconda create "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" xxxx "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("python")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.5")]),a._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#创建python3.5的xxxx虚拟环境")]),a._v("\nconda activate xxxx               "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#开启xxxx环境")]),a._v("\nconda deactivate                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#关闭环境")]),a._v("\nconda "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("env")]),a._v(" list                    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#显示所有的虚拟环境")]),a._v("\nconda info "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--envs")]),a._v("                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#显示所有的虚拟环境")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("h3",{attrs:{id:"_2-5-查看指定包可安装版本信息命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-查看指定包可安装版本信息命令"}},[a._v("#")]),a._v(" 2.5 查看指定包可安装版本信息命令")]),a._v(" "),s("p",[a._v("查看tensorflow各个版本：（查看会发现有一大堆TensorFlow源，但是不能随便选，选择可以用查找命令定位）")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("conda search "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看search使用帮助信息")]),a._v("\nconda search tensorflow  \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("查看指定包可安装版本信息命令")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("anaconda show "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("USER")]),a._v("/PACKAGE"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("  \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("查看指定anaconda/tensorflow版本信息")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("conda show tensorflow\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("输出结果会提供一个下载地址，使用下面命令就可指定安装1.8.0版本tensorflow")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("conda "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--channel")]),a._v(" https://conda.anaconda.org/anaconda "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("tensorflow")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.8")]),a._v(".0 \n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_2-6-更新-卸载安装包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-更新-卸载安装包"}},[a._v("#")]),a._v(" 2.6 更新，卸载安装包")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("conda list         "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看已经安装的文件包")]),a._v("\nconda list  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" xxx       "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#指定查看xxx虚拟环境下安装的package")]),a._v("\nconda update xxx   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#更新xxx文件包")]),a._v("\nconda uninstall xxx   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#卸载xxx文件包")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("h3",{attrs:{id:"_2-7-删除虚拟环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-删除虚拟环境"}},[a._v("#")]),a._v(" 2.7 删除虚拟环境")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("conda remove "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" xxxx "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--all")]),a._v("   //创建xxxx虚拟环境\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_2-8-清理-conda瘦身"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-清理-conda瘦身"}},[a._v("#")]),a._v(" 2.8 清理（conda瘦身）")]),a._v(" "),s("p",[a._v("conda clean就可以轻松搞定！第一步：通过conda clean -p来删除一些没用的包，这个命令会检查哪些包没有在包缓存中被硬依赖到其他地方，并删除它们。第二步：通过conda clean -t可以将删除conda保存下来的tar包。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("conda clean "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v("      //删除没有用的包\nconda clean "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v("      //删除tar包\nconda clean "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--all")]),a._v(" //删除所有的安装包及cache\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h3",{attrs:{id:"_2-9-复制-重命名-删除env环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-复制-重命名-删除env环境"}},[a._v("#")]),a._v(" 2.9 复制/重命名/删除env环境")]),a._v(" "),s("p",[a._v("Conda是没有重命名环境的功能的, 要实现这个基本需求, 只能通过愚蠢的"),s("strong",[a._v("克隆-删除")]),a._v("的过程。")]),a._v(" "),s("p",[a._v("切记不要直接mv移动环境的文件夹来重命名, 会导致一系列无法想象的错误的发生!")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("//克隆oldname环境为newname环境\nconda create "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" newname "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--clone")]),a._v(" oldname \n//彻底删除旧环境\nconda remove "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" oldname "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--all")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("注意：必须在base环境下进行以上操作，否则会出现各种莫名的问题。")]),a._v(" "),s("h3",{attrs:{id:"_2-10-conda自动开启-关闭激活"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-conda自动开启-关闭激活"}},[a._v("#")]),a._v(" 2.10 conda自动开启/关闭激活")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("conda activate   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#默认激活base环境")]),a._v("\nconda activate xxx  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#激活xxx环境")]),a._v("\nconda deactivate "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#关闭当前环境")]),a._v("\nconda config "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" auto_activate_base "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#关闭自动激活状态")]),a._v("\nconda config "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--set")]),a._v(" auto_activate_base "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#关闭自动激活状态")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("h3",{attrs:{id:"_2-11-conda-安装本地包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-conda-安装本地包"}},[a._v("#")]),a._v(" 2.11 Conda 安装本地包")]),a._v(" "),s("p",[a._v("有时conda或pip源下载速度太慢，install a过程中会中断连接导致压缩包下载不全，此时，我们可以用浏览器等工具先下载指定包再用conda或pip进行本地安装")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#pip 安装本地包")]),a._v("\npip "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("   ～/Downloads/a.whl\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#conda 安装本地包")]),a._v("\nconda "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" --use-local  ~/Downloads/a.tar.bz2\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("h3",{attrs:{id:"_2-12-解决conda-pip-install-下载速度慢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-12-解决conda-pip-install-下载速度慢"}},[a._v("#")]),a._v(" 2.12 解决conda/pip install 下载速度慢")]),a._v(" "),s("p",[a._v("conda数据源管理")]),a._v(" "),s("h2",{attrs:{id:"查看完整文章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看完整文章"}},[a._v("#")]),a._v(" 查看完整文章")]),a._v(" "),s("p",[a._v("加入"),s("a",{attrs:{href:"https://public.zsxq.com/groups/48848484411888.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("冰河技术"),s("OutboundLink")],1),a._v("知识星球，解锁完整技术文章、小册、视频与完整代码")])])}),[],!1,null,null,null);s.default=n.exports}}]);