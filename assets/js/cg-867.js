(window.webpackJsonp=window.webpackJsonp||[]).push([[867],{1170:function(t,s,a){"use strict";a.r(s);var r=a(8),n=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"《分布式im系统》大后端平台-用户服务-第04节-用户微服务整合即时通讯sdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#《分布式im系统》大后端平台-用户服务-第04节-用户微服务整合即时通讯sdk"}},[t._v("#")]),t._v(" 《分布式IM系统》大后端平台-用户服务-第04节：用户微服务整合即时通讯SDK")]),t._v(" "),s("p",[t._v("作者：冰河\n"),s("br"),t._v("星球："),s("a",{attrs:{href:"http://m6z.cn/6aeFbs",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://m6z.cn/6aeFbs"),s("OutboundLink")],1),t._v(" "),s("br"),t._v("博客："),s("a",{attrs:{href:"https://binghe.gitcode.host",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://binghe.gitcode.host"),s("OutboundLink")],1),t._v(" "),s("br"),t._v("文章汇总："),s("a",{attrs:{href:"https://binghe.gitcode.host/md/all/all.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://binghe.gitcode.host/md/all/all.html"),s("OutboundLink")],1),t._v(" "),s("br"),t._v("源码获取地址："),s("a",{attrs:{href:"https://t.zsxq.com/0dhvFs5oR",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://t.zsxq.com/0dhvFs5oR"),s("OutboundLink")],1),t._v(" "),s("br"),t._v("课程视频："),s("a",{attrs:{href:"https://t.zsxq.com/17RnYp82j",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://t.zsxq.com/17RnYp82j"),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("沉淀，成长，突破，帮助他人，成就自我。")])]),t._v(" "),s("ul",[s("li",[t._v("本节难度：★★☆☆☆")]),t._v(" "),s("li",[t._v("本节重点：实现大后端平台中用户微服务整合即时通讯SDK，通过即时通讯SDK获取用户的在线状态和终端设备信息，掌握业务系统整合即时通讯SDK的方式方法，并能够将其灵活应用到自身实际项目中。")]),t._v(" "),s("li",[t._v("课程视频："),s("a",{attrs:{href:"https://t.zsxq.com/17RnYp82j",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://t.zsxq.com/17RnYp82j"),s("OutboundLink")],1)])]),t._v(" "),s("p",[s("strong",[t._v("大家好，我是冰河~~")])]),t._v(" "),s("p",[t._v("在分布式IM即时通讯系统中，大后端平台的用户微服务最核心的功能就是对用户基本信息的管理，在对用户基本信息进行管理时，会涉及到用户在线状态的展示，以及用户目前使用的终端设备展示，那这些展示信息从哪里获取呢？此时，就需要通过我们已经封装好的即时通讯SDK来实现。")]),t._v(" "),s("h2",{attrs:{id:"一、前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、前言"}},[t._v("#")]),t._v(" 一、前言")]),t._v(" "),s("p",[t._v("在前面的章节中，我们已经实现了用户微服务的基础功能，并且在实现用户微服务的基础功能时，预留出一些需要通过即时通讯SDK来完成的功能。例如，查询用户列表、获取用户详情信息和获取当前用户信息时，都需要通过即时通讯SDK来获取用户的在线状态，而查询用户的在线终端设备则需要通过即时通讯SDK来获取用户的在线设备数据。")]),t._v(" "),s("h2",{attrs:{id:"二、本节诉求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、本节诉求"}},[t._v("#")]),t._v(" 二、本节诉求")]),t._v(" "),s("p",[t._v("实现用户微服务整合即时通讯SDK，通过即时通讯SDK获取用户的在线状态和终端设备信息，掌握业务系统整合即时通讯SDK的方式方法，并能够将其灵活应用到自身实际项目中。")]),t._v(" "),s("h2",{attrs:{id:"三、整合流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、整合流程"}},[t._v("#")]),t._v(" 三、整合流程")]),t._v(" "),s("p",[t._v("在用户微服务中，获取用户的基本信息时，需要通过即时通讯SDK来获取用户的在线状态以及终端设备信息，大体示意图如图4-1所示。")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"https://binghe.gitcode.host/images/project/im/2024-01-08-001.png?raw=true",width:"70%"}}),t._v(" "),s("br")]),t._v(" "),s("p",[t._v("可以看到，客户端调用大后端平台中用户微服务的接口来获取用户的基本信息数据时，用户微服务会通过即时通讯SDK从分布式缓存中获取与用户终端建立连接的即时通讯后端服务的ID，以此判断用户的在线状态，并获取用户的在线终端设备信息。")]),t._v(" "),s("h2",{attrs:{id:"四、整合sdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、整合sdk"}},[t._v("#")]),t._v(" 四、整合SDK")]),t._v(" "),s("p",[t._v("整个整合过程也比较简单，具体步骤如下所示。")]),t._v(" "),s("p",[s("strong",[t._v("（1）引入SDK依赖")])]),t._v(" "),s("p",[t._v("首先，在bh-im-platform工程下的pom.xml文件的依赖管理配置中，引入即时通讯SDK的依赖，如下所示。")]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("io.binghe.im"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("bh-im-sdk-core"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${project.version}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h2",{attrs:{id:"查看完整文章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看完整文章"}},[t._v("#")]),t._v(" 查看完整文章")]),t._v(" "),s("p",[t._v("加入"),s("a",{attrs:{href:"https://public.zsxq.com/groups/48848484411888.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("冰河技术"),s("OutboundLink")],1),t._v("知识星球，解锁完整技术文章与完整代码")])])}),[],!1,null,null,null);s.default=n.exports}}]);