(window.webpackJsonp=window.webpackJsonp||[]).push([[850],{1152:function(t,e,r){"use strict";r.r(e);var n=r(7),a=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"《seckill秒杀系统》第91章-流量网关环境初步搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#《seckill秒杀系统》第91章-流量网关环境初步搭建"}},[t._v("#")]),t._v(" 《Seckill秒杀系统》第91章：流量网关环境初步搭建")]),t._v(" "),e("p",[t._v("作者：冰河\n"),e("br"),t._v("星球："),e("a",{attrs:{href:"http://m6z.cn/6aeFbs",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://m6z.cn/6aeFbs"),e("OutboundLink")],1),t._v(" "),e("br"),t._v("博客："),e("a",{attrs:{href:"https://binghe.gitcode.host",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://binghe.gitcode.host"),e("OutboundLink")],1),t._v(" "),e("br"),t._v("文章汇总："),e("a",{attrs:{href:"https://binghe.gitcode.host/md/all/all.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://binghe.gitcode.host/md/all/all.html"),e("OutboundLink")],1),t._v(" "),e("br"),t._v("源码获取地址："),e("a",{attrs:{href:"https://t.zsxq.com/0dhvFs5oR",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://t.zsxq.com/0dhvFs5oR"),e("OutboundLink")],1)]),t._v(" "),e("blockquote",[e("p",[t._v("沉淀，成长，突破，帮助他人，成就自我。")])]),t._v(" "),e("ul",[e("li",[t._v("本章难度：★★☆☆☆")]),t._v(" "),e("li",[t._v("本章重点：掌握流量网关的技术选型，按照文章步骤一步步搭建流量网关，掌握流量网关与业务网关的区别，并能够将流量网关应用到自身实际项目中。")])]),t._v(" "),e("p",[e("strong",[t._v("大家好，我是冰河~~")])]),t._v(" "),e("p",[t._v("业务网关基本能够保护秒杀系统的各个微服务项目不受突然的瞬时高并发流量的影响，但是对秒杀系统的整个交易链路来说，只是提供业务网关是远远不够的。要知道秒杀的场景中，瞬时流量是非常巨大的，其中，对于秒杀系统的攻击流量和刷单流量也是非常巨大的，最好将这些刷单流量和攻击流量进行前置处理。也就是说，将无效请求流量前置到秒杀系统交易链路的入口处进行处理。")]),t._v(" "),e("h2",{attrs:{id:"一、前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、前言"}},[t._v("#")]),t._v(" 一、前言")]),t._v(" "),e("p",[t._v("秒杀系统整合业务网关后，起到了一定的流控作用，对秒杀系统起到了一定的防护作用。但是着眼整个秒杀交易链路来说，只是有业务网关是远远不够的，我们还需要引入流量网关。")]),t._v(" "),e("p",[t._v("对于秒杀交易链路来说，流量网关比业务网关更加前置化，也就是说，流量网关是秒杀交易链路的入口，在秒杀交易链路的入口处前置化处理刷单流量和攻击流量，将大部分刷单流量和攻击流量挡在整个秒杀交易链路之外。进一步保障整个秒杀交易链路的稳定性和可靠性。")]),t._v(" "),e("h2",{attrs:{id:"二、本章诉求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、本章诉求"}},[t._v("#")]),t._v(" 二、本章诉求")]),t._v(" "),e("p",[t._v("为秒杀系统引入流量网关，首先对流量网关进行选型，随后搭建流量网关基础环境，对搭建的流量网关基础环境进行测试，通过对流量网关的了解，最终能够在自身实际项目中灵活使用流量网关。")]),t._v(" "),e("p",[t._v("这里，可以再回顾下我们秒杀系统的架构图，如下所示。")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("img",{attrs:{src:"https://binghe.gitcode.host/images/project/seckill/scekill-2023-05-10-003.png?raw=true",width:"80%"}}),t._v(" "),e("br")]),t._v(" "),e("p",[t._v("具体可以参见：《"),e("a",{attrs:{href:"https://articles.zsxq.com/id_6beq5lgdxv16.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("第6章：秒杀系统总体方案目标与架构设计"),e("OutboundLink")],1),t._v("》的内容，这里不再赘述。")]),t._v(" "),e("h2",{attrs:{id:"三、流量网关选型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、流量网关选型"}},[t._v("#")]),t._v(" 三、流量网关选型")]),t._v(" "),e("p",[t._v("流量网关选型的一个重要前提就是网关要能够承载超大流量，并且性能要高，占用的资源要少。众所众知，Nginx作为大部分互联网项目的负载均衡和反向代理服务器，其承载高并发、大流量的能力，以及高性能和资源占用少是有目共睹的。所以，我们在对流量网关进行选型时，主要是基于Nginx实现的网关进行选型。")]),t._v(" "),e("p",[t._v("基于Nginx实现的网关，常见的就是OpenResty和Kong网关，接下来我们就对二者进行简单的对比。")]),t._v(" "),e("h3",{attrs:{id:"_3-1-nginx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-nginx"}},[t._v("#")]),t._v(" 3.1 Nginx")]),t._v(" "),e("p",[t._v("无论是OpenResty还是Kong网关，其底层都是基于Nginx实现，在正式介绍OpenResty和Kong网关之前，我们先来简单介绍下Nginx。")]),t._v(" "),e("p",[t._v("Nginx是一个高性能的HTTP反向代理Web服务器，Nginx可以作为一个独立的Web服务器使用，也可以作为反向代理服务器与其他Web服务器配合使用。Nginx可以支持路由转发、负载均衡、SSL加密、TLS加密、能够预防网络攻击。同时，也支持URL重写，HTTP授权、HTTP/2 Server Push等等高级功能。")]),t._v(" "),e("p",[e("strong",[t._v("注意：更多Nginx实战相关的内容，大家可以参考冰河整理的《"),e("a",{attrs:{href:"https://binghe.gitcode.host/md/core/nginx/2023-07-23-%E3%80%8ANginx%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E3%80%8B%E7%AC%AC01%E7%AB%A0-%E5%AE%89%E8%A3%85Nginx.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nginx核心技术"),e("OutboundLink")],1),t._v("》。")])]),t._v(" "),e("p",[t._v("对于Nginx来说，最重要的就是nginx.conf配置文件，nginx中所有的重要特性都可以在nginx.conf中进行配置，总体上会包含如下核心模块。")]),t._v(" "),e("ul",[e("li",[t._v("全局配置模块配置：Nginx的全局配置模块，可以配置Nginx的进程数，输出日志的目录和日志级别，工作进程数量，以及CPU绑核等。")]),t._v(" "),e("li",[t._v("events模块配置：主要配置Nginx的进程连接数等信息。")]),t._v(" "),e("li",[t._v("HTTP模块：主要配置Nginx请求相关的配置，例如监听的域名、端口号、反向代理等等。")])]),t._v(" "),e("h3",{attrs:{id:"_3-2-openresty"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-openresty"}},[t._v("#")]),t._v(" 3.2 OpenResty")]),t._v(" "),e("h2",{attrs:{id:"查看完整文章"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看完整文章"}},[t._v("#")]),t._v(" 查看完整文章")]),t._v(" "),e("p",[t._v("加入"),e("a",{attrs:{href:"http://m6z.cn/6aeFbs",target:"_blank",rel:"noopener noreferrer"}},[t._v("冰河技术"),e("OutboundLink")],1),t._v("知识星球，解锁完整技术文章与完整代码")])])}),[],!1,null,null,null);e.default=a.exports}}]);